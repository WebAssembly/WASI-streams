<h1>Import interface <code>wasi-io</code></h1>
<h2>Types</h2>
<h2><a href="#stream_error" name="stream_error"></a> <a href="#stream_error"><code>stream-error</code></a>: record</h2>
<p>An error type returned from a stream operation. Currently this
doesn't provide any additional information.</p>
<p>Size: 0, Alignment: 1</p>
<h3>Record Fields</h3>
<h2><a href="#output_stream" name="output_stream"></a> <a href="#output_stream"><code>output-stream</code></a>: <code>u32</code></h2>
<p>An output bytestream. In the future, this will be replaced by handle
types.</p>
<p>This conceptually represents a <code>stream&lt;u8, _&gt;</code>. It's temporary
scaffolding until component-model's async features are ready.</p>
<p>And at present, it is a <code>u32</code> instead of being an actual handle, until
the wit-bindgen implementation of handles and resources is ready.</p>
<p>Size: 4, Alignment: 4</p>
<h2><a href="#input_stream" name="input_stream"></a> <a href="#input_stream"><code>input-stream</code></a>: <code>u32</code></h2>
<p>An input bytestream. In the future, this will be replaced by handle
types.</p>
<p>This conceptually represents a <code>stream&lt;u8, _&gt;</code>. It's temporary
scaffolding until component-model's async features are ready.</p>
<p>And at present, it is a <code>u32</code> instead of being an actual handle, until
the wit-bindgen implementation of handles and resources is ready.</p>
<p>Size: 4, Alignment: 4</p>
<h2>Functions</h2>
<hr />
<h4><a href="#read" name="read"></a> <a href="#read"><code>read</code></a></h4>
<p>Read bytes from a stream.</p>
<p>This function returns a list of bytes containing the data that was
read, along with a bool indicating whether the end of the stream
was reached. The returned list will contain up to <code>len</code> bytes; it
may return fewer than requested, but not more.</p>
<p>Once a stream has reached the end, subsequent calls to read or
<a href="#skip"><code>skip</code></a> will always report end-of-stream rather than producing more
data.</p>
<p>If <code>len</code> is 0, it represents a request to read 0 bytes, which should
always succeed, assuming the stream hasn't reached its end yet, and
return an empty list.</p>
<p>The len here is a <code>u64</code>, but some callees may not be able to allocate
a buffer as large as that would imply.
FIXME: describe what happens if allocation fails.</p>
<h5>Params</h5>
<ul>
<li><a href="#read.this" name="read.this"></a> <code>this</code>: <a href="#input_stream"><a href="#input_stream"><code>input-stream</code></a></a></li>
<li><a href="#read.len" name="read.len"></a> <code>len</code>: <code>u64</code></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#read.result0" name="read.result0"></a> <code>result0</code>: result&lt;(list&lt;<code>u8</code>&gt;, <code>bool</code>), <a href="#stream_error"><a href="#stream_error"><code>stream-error</code></a></a>&gt;</li>
</ul>
<hr />
<h4><a href="#skip" name="skip"></a> <a href="#skip"><code>skip</code></a></h4>
<p>Skip bytes from a stream.</p>
<p>This is similar to the <a href="#read"><code>read</code></a> function, but avoids copying the
bytes into the instance.</p>
<p>Once a stream has reached the end, subsequent calls to read or
<a href="#skip"><code>skip</code></a> will always report end-of-stream rather than producing more
data.</p>
<p>This function returns the number of bytes skipped, along with a bool
indicating whether the end of the stream was reached. The returned
value will be at most <code>len</code>; it may be less.</p>
<h5>Params</h5>
<ul>
<li><a href="#skip.this" name="skip.this"></a> <code>this</code>: <a href="#input_stream"><a href="#input_stream"><code>input-stream</code></a></a></li>
<li><a href="#skip.len" name="skip.len"></a> <code>len</code>: <code>u64</code></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#skip.result0" name="skip.result0"></a> <code>result0</code>: result&lt;(<code>u64</code>, <code>bool</code>), <a href="#stream_error"><a href="#stream_error"><code>stream-error</code></a></a>&gt;</li>
</ul>
<hr />
<h4><a href="#drop_input_stream" name="drop_input_stream"></a> <a href="#drop_input_stream"><code>drop-input-stream</code></a></h4>
<p>Dispose of the specified <a href="#input_stream"><code>input-stream</code></a>, after which it may no longer
be used.</p>
<h5>Params</h5>
<ul>
<li><a href="#drop_input_stream.this" name="drop_input_stream.this"></a> <code>this</code>: <a href="#input_stream"><a href="#input_stream"><code>input-stream</code></a></a></li>
</ul>
<hr />
<h4><a href="#write" name="write"></a> <a href="#write"><code>write</code></a></h4>
<p>Write bytes to a stream.</p>
<p>This function returns a <code>u64</code> indicating the number of bytes from
<code>buf</code> that were written; it may be less than the full list.</p>
<h5>Params</h5>
<ul>
<li><a href="#write.this" name="write.this"></a> <code>this</code>: <a href="#output_stream"><a href="#output_stream"><code>output-stream</code></a></a></li>
<li><a href="#write.buf" name="write.buf"></a> <code>buf</code>: list&lt;<code>u8</code>&gt;</li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#write.result0" name="write.result0"></a> <code>result0</code>: result&lt;<code>u64</code>, <a href="#stream_error"><a href="#stream_error"><code>stream-error</code></a></a>&gt;</li>
</ul>
<hr />
<h4><a href="#write_zeroes" name="write_zeroes"></a> <a href="#write_zeroes"><code>write-zeroes</code></a></h4>
<p>Write multiple zero bytes to a stream.</p>
<p>This function returns a <code>u64</code> indicating the number of zero bytes
that were written; it may be less than <code>len</code>.</p>
<h5>Params</h5>
<ul>
<li><a href="#write_zeroes.this" name="write_zeroes.this"></a> <code>this</code>: <a href="#output_stream"><a href="#output_stream"><code>output-stream</code></a></a></li>
<li><a href="#write_zeroes.len" name="write_zeroes.len"></a> <code>len</code>: <code>u64</code></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#write_zeroes.result0" name="write_zeroes.result0"></a> <code>result0</code>: result&lt;<code>u64</code>, <a href="#stream_error"><a href="#stream_error"><code>stream-error</code></a></a>&gt;</li>
</ul>
<hr />
<h4><a href="#splice" name="splice"></a> <a href="#splice"><code>splice</code></a></h4>
<p>Read from one stream and write to another.</p>
<p>This function returns the number of bytes transferred; it may be less
than <code>len</code>.</p>
<h5>Params</h5>
<ul>
<li><a href="#splice.this" name="splice.this"></a> <code>this</code>: <a href="#output_stream"><a href="#output_stream"><code>output-stream</code></a></a></li>
<li><a href="#splice.src" name="splice.src"></a> <code>src</code>: <a href="#input_stream"><a href="#input_stream"><code>input-stream</code></a></a></li>
<li><a href="#splice.len" name="splice.len"></a> <code>len</code>: <code>u64</code></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#splice.result0" name="splice.result0"></a> <code>result0</code>: result&lt;(<code>u64</code>, <code>bool</code>), <a href="#stream_error"><a href="#stream_error"><code>stream-error</code></a></a>&gt;</li>
</ul>
<hr />
<h4><a href="#drop_output_stream" name="drop_output_stream"></a> <a href="#drop_output_stream"><code>drop-output-stream</code></a></h4>
<p>Dispose of the specified <a href="#output_stream"><code>output-stream</code></a>, after which it may no longer
be used.</p>
<h5>Params</h5>
<ul>
<li><a href="#drop_output_stream.this" name="drop_output_stream.this"></a> <code>this</code>: <a href="#output_stream"><a href="#output_stream"><code>output-stream</code></a></a></li>
</ul>
